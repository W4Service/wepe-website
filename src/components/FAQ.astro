---
interface FAQItem {
  question: string
  answer: string
}

interface Props {
  items: FAQItem[]
}

const { items } = Astro.props
---

<div class="space-y-4">
  {items.map((item, index) => (
    <details class="group bg-wepe-white border border-wepe-gray/20 rounded-lg overflow-hidden">
      <summary class="flex items-center justify-between gap-4 p-6 cursor-pointer list-none hover:bg-wepe-gray-light/50 transition-colors">
        <h3 class="text-left font-medium text-wepe-black pr-4">
          {item.question}
        </h3>
        <svg
          class="w-5 h-5 text-wepe-red flex-shrink-0 transition-transform duration-200 group-open:rotate-180"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
        </svg>
      </summary>
      <div class="px-6 pb-6">
        <p class="text-wepe-gray-dark leading-relaxed">
          {item.answer}
        </p>
      </div>
    </details>
  ))}
</div>

<!-- Schema.org FAQPage -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": items.map(item => ({
    "@type": "Question",
    "name": item.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": item.answer
    }
  }))
})} />
